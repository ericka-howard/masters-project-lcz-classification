---
title: "Getting the Landsat Data into R"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

libraries 

```{r}
library(randomForest)
library(raster)
library(rgdal)
library(here)
library(tidyverse)
library(mapproj)
#training <- readOGR('training_data.shp', layer='training_data')
train <- brick(here("data/hong_kong/lcz/", "hong_kong_lcz_col.tif"))
#le7 <- brick('LE70220491999322EDC01_stack.gtif')
le8 <- brick(here("data/hong_kong/landsat_8", "LC81220442015291LGN00/LC81220442015291LGN00_B1.tif"))
```


Definitely didn't work and was just for testing (to see if I could go through the tutorial code with my data) anyway, so scrap it.

Tomorrow:
1. Why did they give us the data as a tif instead of a shp file? Is that advantageous?
2. If it's not, how do I convert it to a point shapefile?
3. Watch WUDAPT video

what is saga? - alternative to arc or qgis

*Updated filepaths, watched WUDAPT, trying stacking them into a RasterStack*

```{r}
all_data <- stack(le8, train)
```

Now what exactly is a RasterStack? 

```{r}
summary(all_data)
```


```{r}
all_data_df <- as.data.frame(all_data, xy=TRUE)
```

But is that even what I'm looking for?

```{r}
le8_df <- as.data.frame(le8, xy=TRUE)
train_df <- as.data.frame(train, xy=TRUE)
```

```{r}
summary(all_data_df)
summary(le8_df)
summary(train_df)
```





```{r}
train_df %>%
  select(hong_kong_lcz_col.1) %>%
  filter(hong_kong_lcz_col.1 !=0) %>%
  ggplot()+
  geom_histogram(aes(x=hong_kong_lcz_col.1))
```

```{r}
train_df %>%
  select(hong_kong_lcz_col.2) %>%
  filter(hong_kong_lcz_col.2 !=0)%>%
  ggplot()+
  geom_histogram(aes(x=hong_kong_lcz_col.2))
```

So the parts that aren't zero in each column are actually different. 


```{r}
ggplot() +
    geom_raster(data = le8_df , aes(x = x, y = y, fill = layer)) +
    scale_fill_viridis_c() +
    coord_quickmap() +
  theme(legend.position = "none")
```

it's just band1? (bc it's name ends in `_B1`)



