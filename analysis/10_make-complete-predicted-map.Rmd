---
title: "09_make-complete-predicted-map"
author: "Ericka B. Smith"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(randomForest)
library(raster)
library(rgdal)
library(here)
library(tidyverse)
library(mapproj)
source(here("R", "get_rasterstack.R"))
```

```{r}
rf <- readRDS(here("results", "winning_rf.rds"))
all_scenes <- get_rasterstack()
```


```{r}
predicted_map <- predict(all_scenes, model=rf, na.rm=T)
```

Make a plot: 

```{r}
plot(predicted_map)
```

Save predictions as raster:

```{r}
writeRaster(predicted_map, here("results", "fully_predicted_hong_kong_map.tif"), overwrite=T)
```

Go into qGIS to set coloring as wanted